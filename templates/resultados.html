<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head th:include="comum :: head (title='Início')">
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content="" />
    <meta name="author" content="Andre Cassimiro" />
</head>

<body>
    <!-- [+] container -->
    <div id="container">
        <!-- [+] navbar -->
        <nav th:replace="comum :: navbar" />
        <!-- [-] navbar -->
        <!-- [+] page-wrapper -->
        <div id="page-wrapper">
            <div class="container-fluid">
                <div class="row">
                    <div class="col-lg-12">
                        <h3 class="page-header" th:text="'Bem vindo, ' + ${#httpServletRequest.remoteUser} + '!'"><i class="fa fa-dashboard"></i> Blank</h3>
                        <ol class="breadcrumb">
                            <li><i class="fa fa-home"></i>&nbsp;&nbsp;<a th:href="@{/}">Início</a></li>
                        </ol>
                    </div>
                </div>
                <div class="row">
                    <div class="col-lg-12">
                        <div class="panel panel-default">
                            <div class="panel-heading heading-font rounded-heading text-center">
                                Resultados
                            </div>
                            <div class="panel-body">
                                <table width="100%" class="table table-striped table-bordered table-hover" id="dataTables-example">
                                    <thead>
								        <tr>
											<th class="text-center" rowspan="2">Ação</th>
											<th class="text-center" rowspan="2">Carteira</th>
											<th class="text-center" rowspan="2">Status</th>
											<th class="text-center" colspan="3">Datas</th>
											<th class="text-center" colspan="2">Acessos</th>
											<th class="text-center" colspan="3">Propostas</th>
											<th class="text-center" rowspan="2">Boletos</th>
                                            <th class="text-center" rowspan="2">Pagamentos</th>
								        </tr>
								        <tr>
								            <th class="text-center" >Envio</th>
								            <th class="text-center" >Aprovação</th>
								            <th class="text-center" >Validade</th>
								            <th class="text-center" >Sucessos</th>
								            <th class="text-center" >Falhas</th>
								            <th class="text-center" >Visualizadas</th>
								            <th class="text-center" >Aceitas</th>
								            <th class="text-center" >Contra</th>
								        </tr>
                                    </thead>
                                    <tbody>
                                        <tr th:each="resultado : ${resultados}">
                                            <td class="text-center" th:text="${resultado.idAcaoMascara}"></td>
                                            <td class="text-center" th:text="${resultado.carteira}"></td>
                                            <td class="text-center" th:text="${resultado.statusAcao}"></td>
                                            <td class="text-center" th:text="${resultado.dtEnvio} == null ? '--/--' : ${#dates.format(resultado.dtEnvio, 'dd/MM')}"></td>
                                            <td class="text-center" th:text="${resultado.dtAprovacao} == null ? '--/--' : ${#dates.format(resultado.dtAprovacao, 'dd/MM')}"></td>
                                            <td class="text-center" th:text="${resultado.dtValidade} == null ? '--/--' : ${#dates.format(resultado.dtValidade, 'dd/MM')}"></td>
                                            <td class="text-right" th:text="${#numbers.formatInteger(resultado.numAcessos, 0, 'POINT')}"></td>
                                            <td class="text-right" th:text="${#numbers.formatInteger(resultado.numAcessosFalha, 0, 'POINT')}"></td>
                                            <td class="text-right" th:text="${#numbers.formatInteger(resultado.numVisualProp, 0, 'POINT')}"></td>
                                            <td class="text-right" th:text="${#numbers.formatInteger(resultado.numAceiteProp, 0, 'POINT')}"></td>
                                            <td class="text-right" th:text="${#numbers.formatInteger(resultado.numContraProp, 0, 'POINT')}"></td>
                                            <td class="text-right" th:text="${#numbers.formatInteger(resultado.numBoletosGerados, 0, 'POINT')}"></td>
                                            <td class="text-right" th:text="${#numbers.formatInteger(resultado.numPagamentos, 0, 'POINT')}"></td>
                                        </tr>
                                        <tr>
                                            <th class="text-center" colspan="6">Totais</th>
                                            <td class="text-right" th:text="${#numbers.formatInteger(#aggregates.sum(resultados.![numAcessos]), 0, 'POINT')}"></td>
                                            <td class="text-right" th:text="${#numbers.formatInteger(#aggregates.sum(resultados.![numAcessosFalha]), 0, 'POINT')}"></td>
                                            <td class="text-right" th:text="${#numbers.formatInteger(#aggregates.sum(resultados.![numVisualProp]), 0, 'POINT')}"></td>
                                            <td class="text-right" th:text="${#numbers.formatInteger(#aggregates.sum(resultados.![numAceiteProp]), 0, 'POINT')}"></td>
                                            <td class="text-right" th:text="${#numbers.formatInteger(#aggregates.sum(resultados.![numContraProp]), 0, 'POINT')}"></td>
                                            <td class="text-right" th:text="${#numbers.formatInteger(#aggregates.sum(resultados.![numBoletosGerados]), 0, 'POINT')}"></td>
                                            <td class="text-right" th:text="${#numbers.formatInteger(#aggregates.sum(resultados.![numPagamentos]), 0, 'POINT')}"></td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- [-] page-wrapper -->
    </div>
    <!-- [-] container -->
    <script th:replace="comum :: jqueryjs" />
    <script th:replace="comum :: jqueryuijs" />
    <script th:replace="comum :: momentjs" />
    <script th:replace="comum :: fullcalendarjs" />
    <script th:replace="comum :: fullcalendarlangjs" />
    <script th:replace="comum :: bootstrapjs" />
    <script th:replace="comum :: metisjs" />
    <script th:replace="comum :: morrisjs" />
    <script th:replace="comum :: raphaeljs" />
    <script th:replace="comum :: customjs" />
</body>

</html>